@model sixteenBars.Models.QuoteViewModel


<h1>Quote Details</h1>
@if (Model.Id > 0)
{
    <h2>
        "@Html.Raw(Model.Text)" -
        @Html.ActionLink(Model.ArtistName, "details", "artist", new { id = Model.ArtistId }, null)
    </h2>



    <div class="row" style="margin-bottom:15px;">
        <div class="col-md-12">
            <div class="fb-share-button"
                 data-href=""
                 data-layout="button_count">
            </div>
        </div>
    </div>

    if (!String.IsNullOrEmpty(Model.Explanation))
    {
    <p>
        <strong>
            Meaning
        </strong>
        <br />
        @Html.DisplayFor(model => model.Explanation)
    </p>
    }

    <div class="row lower-details">
        <div class="col-md-4">
            Track :

            @Html.ActionLink(Model.TrackName, "details", "track", new { id = Model.TrackId }, null)
        </div>

        <div class="col-md-4">
            Album :

            @Html.ActionLink(Model.AlbumName, "details", "album", new { id = Model.AlbumId }, null)
        </div>

        <div class="col-md-4">
            Artist :

            @Html.ActionLink(Model.AlbumArtistName, "details", "artist", new { id = Model.AlbumArtistId }, null)
        </div>
    </div>
    <div>
        @Html.ActionLink("Back to List", "Index", "Quote", new { @class = "btn btn-back" })
        @if (User.IsInRole("admin") || User.IsInRole("editor"))
        {
            @: &nbsp;
            @Html.ActionLink("Edit", "Edit", "Quote", new { id = Model.Id }, new { @class = "btn btn-edit" })
            @: &nbsp;
            @Html.ActionLink("Delete", "Delete", "Quote", new { id = Model.Id }, new { @class = "btn btn-remove" })
        }
    </div>

}
else
{
    <p>No Quote Found.</p>
}

@section Scripts {
    <script>
        $("body").on("click", ".word", function (e) {
            var txt = "";
            var attr = $(e.target).attr("class");
            if (attr != undefined) {
                txt = attr.replace(" word", "");
            }
            window.location.href = siteURL + "?word=" + txt;
        });

        $(".fb-share-button").attr("data-href", window.location.href);

    window.fbAsyncInit = function () {
        FB.init({
            appId: '1474377432864288',
            xfbml: true,
            version: 'v2.4'
        });
    };

        (function (d, s, id) {
            var js, fjs = d.getElementsByTagName(s)[0];
            if (d.getElementById(id)) { return; }
            js = d.createElement(s); js.id = id;
            js.src = "//connect.facebook.net/en_US/sdk.js";
            fjs.parentNode.insertBefore(js, fjs);
        }(document, 'script', 'facebook-jssdk'));
        

    </script>
}
